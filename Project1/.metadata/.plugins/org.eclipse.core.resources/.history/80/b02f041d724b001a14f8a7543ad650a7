package project1.reimbursement.controller;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpSession;

import project1.reimbursement.Dao.EmployeeDao;
import project1.reimbursement.Dao.TicketDao;
import project1.reimbursement.models.Employee;

public class Ticket_submit_Controller {

	public static String login(HttpServletRequest req) {
		//		boolean flag = true;
		//		if (flag) {
		//			return "resources/html/TicketApply.html";
		//		}

		HttpSession session = req.getSession();
		long employee_id = (long) session.getAttribute("employee_id");



		if(!req.getMethod().equals("POST")) {  //get out ~!!!    get  get  
			return "resources/html/TicketApply";
		}


		String type = req.getParameter("type");
		long Amount = Long.parseLong(req.getParameter("Amount"));
		String Description = req.getParameter("Description");






		TicketDao td = new TicketDao();
		td.insertTicket(type, Amount, "pending", Description, employee_id);


		return "resources/html/homepage.html";
	}
}
